<!DOCTYPE html>
<html>
<head>
    <title>HTML5</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=650, user-scalable=yes">


    <!--[if IE]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->


    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.8.3.min.js"><\/script>')</script>
    
    <script src="jquery-csv.js" type="text/javascript"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.5.2/underscore-min.js"></script>

   

</script>


</head>
<body>
    <div id="map">
    </div>
</body>


</html>


<script>

var dat0;
var dat1;
var dat2;
var dat3;

$(document).ready(function() {


//*********************************************************************
// ----- Use D3
//*********************************************************************


//creates an array of arrays
/*d3.text('treechart.csv', function(data){
    dat0 = d3.csv.parseRows(data)
})

//creates an array of objects
d3.csv('treechart.csv', function(data){dat1=data})



//*********************************************************************
// ----- Use jquery-CSV
//*********************************************************************
*/


// array of arrays
$.ajax({
    type: "GET",
    url: "fytedt.csv",
    dataType: "text",
    success: function(data) { 
        dat2 = $.csv.toArrays(data);}
});



// array of objects
$.ajax({
    type: "GET",
    url: "fytedt.csv",
    dataType: "text",
    success: function(data) { dat3 = $.csv.toObjects(data);
            preprocess()}
});





}); // end document ready


function preprocess()
{
    resstr='';
    tuple=[]
    code="<Br>{}"
    var i=1;
    flag=0
    for (var row in dat3)
    {
      if((i+=1)>4)
          {
            flag=2;
            break;
          }
      for (var item in dat3[row])
      {
        
        //  if(flag==2)break;
      console.log("bitches get stitches\n<br>")//tuple=str(dat2[ind]).split()
      }
      //for (var col in dat2[row]);
      //code=code+dat2[row][col]+"<br>{}"
    } 
    elem=dat2[1].toString()
    elem=elem.split('')
    console.log("Check"+elem[0][1])
    //================
    empty = "";
    html = "<table>";
    counter=0
    xvalues=[]
    yvalues=[]
    for(i = 0; i < dat2.length; i++){
        html += "<tr>";
        counter=0;
        for(j = 0; j < dat2[i].length; j++){
            if(counter==0)
              xvalues.push(dat2[i][j]);
            if(counter==1)
              yvalues.push(dat2[i][j])
            html +="<td>"+dat2[i][j]+"</td>";

            if(dat2[i][j].trim() == ""){
                empty += "cell "+i+" "+j+" is empty";
                empty += "<br />";
            }
            counter=counter+1;
        }
      
        html += "</tr>";
    }
    //============================
    tuple=dat2[0].toString().split(" ")
    console.log(xvalues[0]+"$ "+xvalues[1]+"$"+xvalues[2])
    $('#map').html(        'Length of dat2 is ' + dat2.length + '<br>' +
        'Length of dat3 is ' + dat3.length + '<br>' +
        'Is dat0 equal to dat2: ' + _.isEqual(dat0, dat2)+ '<br>' +
        'Is dat1 equal to dat3: ' + _.isEqual(dat1, dat3)+'\n dat2 xvalues <br>'+html+"<br>end")

}


</script>